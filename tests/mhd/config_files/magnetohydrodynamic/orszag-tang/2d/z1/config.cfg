# Equation 7 of http://dx.doi.org/10.1017/S002211207900210X
# Use RCB instead of RANDOM for (much) shorter time to solution

time-start = 0
time-length = 5
load-balancer = RANDOM
save-mhd-n = 0.5
vacuum-permeability = 1
proton-mass = 1
remove-div-B-n = 0.1
time-step-factor = 0.5

[grid]
periodic = {true, true, false}
nr-cells = {20, 20, 1}
volume = {2*pi, 2*pi, 1}
start = {0, 0, 0}

[initial]
# TODO: maybe use density & pressure given at
# http://www.csun.edu/~jb715473/examples/mhd2d.htm
default.number-density = 1
default.velocity = {-sin(r[1]), sin(r[0]), 0}
default.pressure = 1
default.magnetic-field = {-sin(r[1]), sin(2 * r[0]), 0}
