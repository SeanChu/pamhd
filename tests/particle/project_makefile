TESTS_PARTICLE_EXECUTABLES = \
  tests/particle/solve1.exe \
  tests/particle/common.exe \
  tests/particle/create_particles.exe \
  tests/particle/accumulate.exe

TESTS_PARTICLE_TESTS = \
  tests/particle/solve1.tst \
  tests/particle/common.tst \
  tests/particle/create_particles.tst \
  tests/particle/accumulate.tst

tests/particle_executables: $(TESTS_PARTICLE_EXECUTABLES)

tests/particle_tests: $(TESTS_PARTICLE_TESTS)

tests/particle_clean:
	@printf "CLEAN tests/particle\n" && rm -f \
	  $(TESTS_PARTICLE_EXECUTABLES) \
	  $(TESTS_PARTICLE_TESTS)

EXECUTABLES += tests/particle_executables
TESTS += tests/particle_tests
CLEAN += tests/particle_clean


TEST_PARTICLE_COMMON_DEPS = \
  source/particle/variables.hpp \
  tests/particle/project_makefile \
  $(ENVIRONMENT_MAKEFILE) \
  Makefile

TEST_PARTICLE_COMMON_COMPILE = \
  $< -o $@ \
  $(CPPFLAGS) \
  $(CXXFLAGS) \
  $(LDFLAGS) \
  $(BOOST_CPPFLAGS) \
  $(EIGEN_CPPFLAGS) \
  $(GENSIMCELL_CPPFLAGS)

tests/particle/solve1.exe: \
  tests/particle/solve1.cpp \
  $(TEST_PARTICLE_COMMON_DEPS) \
  source/particle/solve.hpp
	@printf "CXX $<\n" && $(CXX) $(TEST_PARTICLE_COMMON_COMPILE)

tests/particle/common.exe: \
  tests/particle/common.cpp \
  $(TEST_PARTICLE_COMMON_DEPS) \
  source/particle/common.hpp
	@printf "CXX $<\n" && $(CXX) $(TEST_PARTICLE_COMMON_COMPILE)

tests/particle/create_particles.exe: \
  tests/particle/create_particles.cpp \
  $(TEST_PARTICLE_COMMON_DEPS) \
  source/particle/common.hpp
	@printf "CXX $<\n" && $(CXX) $(TEST_PARTICLE_COMMON_COMPILE)

tests/particle/accumulate.exe: \
  tests/particle/accumulate.cpp \
  $(TEST_PARTICLE_COMMON_DEPS) \
  source/particle/accumulate.hpp
	@printf "CXX $<\n" && $(CXX) $(TEST_PARTICLE_COMMON_COMPILE)
